{% extends 'core/base.html' %}

{% block title %}
<title>Conversation with {{ conversation.item.name }}</title>
{% endblock title %}

{% block content %}
<h1>Conversation with {{ conversation.item.name }}</h1>
<div class="media">
    <img class="mr-3" src="{{ conversation.item.image.url }}" alt="{{ conversation.item.name }}" width="64" height="64">
    <div class="media-body">
        <h5 class="mt-0">{{ conversation.item.name }}</h5>
        <p>Created by {{ conversation.item.created_by.username }}</p>
    </div>
</div>
<hr>
{% for message in messages %}
    <div class="media">
        <div class="media-body">
            <h5 class="mt-0">{{ message.created_by.username }} at {{ message.created_at }}</h5>
            <p>{{ message.content }}</p>
        </div>
    </div>
    <hr>
{% endfor %}
<form method="post">
    {% csrf_token %}
    <div class="form-group">
        <label for="content">Message</label>
        <textarea class="form-control" id="content" name="content" rows="3" required></textarea>
    </div>
    <button type="submit" class="btn btn-primary">Send</button>
</form>
{% endblock content %}
